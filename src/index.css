/* ====== Variables ====== */
:root{
  --verde: #7ee0a1;
  --verde-hover: #66d38f;
  --rojo: #e74c3c;
  --gris-bg: #f6f7f9;
  --gris-borde: #e5e7eb;
  --texto: #222;

  /* Altura de la barra fija de mesas (ajusta si la quieres m√°s alta) */
  --mesas-h: 76px;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body { margin: 0; font-family: Segoe UI, Arial, sans-serif; color: var(--texto); background: var(--gris-bg); }

.app { display: flex; flex-direction: column; min-height: 100%; }

/* ====== Header ====== */
.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 14px;
  background: #fff;
  border-bottom: 1px solid #e5e7eb;
  position: sticky;
  top: 0;
  z-index: 30;
}

.brand {
  display: flex;
  align-items: center;
  gap: 8px;
}

.logo {
  height: 42px;
  width: 42px;
  object-fit: contain;
}

.title {
  font-size: 22px;
  font-weight: 700;
  margin: 0;
}
.right-controls {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: nowrap;      /* que NO se vayan a segunda l√≠nea */
}
/* ====== Layout principal ====== */
/* IMPORTANTE: el padding-bottom usa la altura de la barra para que el scroll no quede tapado */
.content{
  display:grid; grid-template-columns: 1fr 380px; gap:18px;
  padding:16px 18px calc(var(--mesas-h) + 12px);
}

/* ====== Men√∫ (categor√≠as + productos) ====== */
.menu{ background:#fff; border:1px solid var(--gris-borde); border-radius:14px; padding:14px; }
.cat-block{ border-bottom:1px dashed var(--gris-borde); padding:8px 4px; }
.cat-block:last-child{ border-bottom:none; }

.cat-head{
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 12px; border-radius:10px; background:#f0fdf4;
}
.cat-name{ font-weight:700; color:#14532d; }
.cat-toggle{
  border:none; background:#e8f7ef; color:#14532d;
  font-size:20px; line-height:1; width:36px; height:32px; border-radius:8px; cursor:pointer;
}
.cat-toggle:hover{ background:#d8f1e6; }

.cat-items{ padding:6px 6px 10px; }

/* Producto en una sola l√≠nea (compacto) */
.item-row{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:10px 12px; border:1px solid var(--gris-borde);
  border-radius:10px; background:#fff; margin-top:8px;
}
.item-name{ font-weight:600; }

/* Controles dobles (CH y N) */
.dual-controls{ display:flex; gap:10px; }
.qty-box{
  display:flex; align-items:center; gap:6px;
  background:#fff; border-radius:8px; padding:2px 6px;
  box-shadow: 0 1px 3px rgba(0,0,0,.08);
}
.qty-box .label{
  font-size:11px; font-weight:700; padding:1px 4px; border-radius:4px;
}
.qty-box.ch .label{ background:#ffe6cc; color:#b34700; }
.qty-box.n  .label{ background:#e6ffe6; color:#006600; }

.qty-box .num{ min-width:16px; text-align:center; font-weight:600; font-size:14px; }
.qty-box button{
  width:26px; height:26px; border:1px solid #d1d5db;
  border-radius:6px; background:#f9fafb; color:#374151; font-size:16px; cursor:pointer;
  transition: all .2s ease;
}
.qty-box button:hover{ background:#e5e7eb; }

/* ====== Ticket derecha ====== */
.ticket{
  background:#fff; border:1px solid var(--gris-borde); border-radius:14px; padding:14px;
  position: sticky; top: 84px; height: fit-content; max-height: calc(100vh - 140px); overflow:auto;
}
.ticket h3{ margin:6px 0 10px; }
.ticket-head{ display:flex; align-items:center; justify-content:space-between; }
.ticket-list{ list-style:none; padding:0; margin:0; }
.ticket-row{ display:flex; justify-content:space-between; padding:8px 0; border-bottom:1px dashed var(--gris-borde); }
.ticket-row:last-child{ border-bottom:none; }
.total-row{ display:flex; justify-content:space-between; margin-top:10px; font-size:18px; }
.ticket-actions{ margin-top:10px; display:flex; gap:10px; }

/* ====== Barra de mesas (FIJA) ====== */
/* ====== Barra de mesas (scroll horizontal) ====== */
.mesas-bar{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  background: #fff;
  border-top: 1px solid var(--gris-borde);
  height: var(--mesas-h);
  padding: 10px 12px;

  /* Clave para scrollear lateral */
  display: flex;
  gap: 8px;
  overflow-x: auto;        /* permite desplazamiento horizontal */
  overflow-y: hidden;
  white-space: nowrap;     /* que no haga salto de l√≠nea */
  scroll-snap-type: x proximity;
  -webkit-overflow-scrolling: touch; /* scroll suave en m√≥viles */
  z-index: 40;
  box-shadow: 0 -4px 12px rgba(0,0,0,.05);
}
/* cada mesa ocupa ancho fijo y no se encoge */
.mesa-square{
  flex: 0 0 72px;          /* ancho fijo (aj√∫stalo a gusto) */
  height: 54px;
  border-radius: 10px;
  border: 1px solid var(--gris-borde);
  font-weight: 700;
  cursor: pointer;
  scroll-snap-align: start;
  transition: transform .12s, box-shadow .12s, background .12s, color .12s;
}
.mesa-square.libre{ background:var(--verde); color:#083d21; }
.mesa-square.libre:hover{ background:var(--verde-hover); }
.mesa-square.ocupada{ background:var(--rojo); color:#fff; }
.mesa-square.activa{ outline:2px solid #111; box-shadow:0 2px 8px rgba(0,0,0,.15); }

/* (opcional) estilo de scrollbar fino */
.mesas-bar::-webkit-scrollbar{ height: 6px; }
.mesas-bar::-webkit-scrollbar-track{ background: transparent; }
.mesas-bar::-webkit-scrollbar-thumb{ background: #e5e7eb; border-radius: 999px; }

/* ====== Cocinero / Cajero ====== */
.content.one-col{ grid-template-columns: 1fr; }
.content.cajero{ grid-template-columns: 1fr 380px; }

.kitchen, .c-left{ background:#fff; border:1px solid var(--gris-borde); border-radius:14px; padding:14px; }
.k-card, .charge-card, .ticket-card{ border:1px solid var(--gris-borde); border-radius:12px; padding:12px; margin-bottom:12px; background:#fff; }
.k-grid{
  display: grid;
  grid-template-columns: 1fr;    /* m√≥vil: 1 columna */
  gap: 12px;
}
.k-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.k-item-left{
  display:flex;
  align-items:center;
  gap:10px;
}
.k-qty{
  font-weight:700;
  font-size:16px;
  min-width:20px;
  text-align:center;
}
.k-row{ display:flex; justify-content:space-between; padding:6px 0; border-bottom:1px dashed var(--gris-borde); }
.k-row:last-child{ border-bottom:none; }

/* Chips estado */
.chip{ padding:4px 8px; border-radius:999px; font-size:12px; text-transform:uppercase; }
.chip.tomando{ background:#eef2ff; color:#3730a3; }
.chip.enviado{ background:#fffbeb; color:#92400e; }
.chip.listo{ background:#ecfdf5; color:#065f46; }
.chip.cobrado{ background:#f3f4f6; color:#111827; }

/* Botones */
.btn-action{ border:none; border-radius:10px; padding:10px 12px; cursor:pointer; font-weight:700; }
.btn-action.send{ background:#fde68a; color:#7c2d12; }
.btn-action.done{ background:#bbf7d0; color:#065f46; }
.btn-action.charge{ background:#dbeafe; color:#1e40af; }

/* ====== Cajero / derecha ====== */
.dash{ display:flex; gap:12px; margin:8px 0 14px; }
.dash-item{ flex:1; border:1px solid var(--gris-borde); border-radius:10px; padding:10px; background:#f9fafb; display:flex; flex-direction:column; gap:4px; }
.tickets-list{ max-height:50vh; overflow:auto; }
.c-right{ background:#fff; border:1px solid var(--gris-borde); border-radius:14px; padding:14px; height:fit-content; }

/* ====== Admin & Auth ====== */
.content.admin{ grid-template-columns: 1.1fr 0.9fr; }
.admin-left,.admin-right{ background:#fff; border:1px solid var(--gris-borde); border-radius:14px; padding:14px; }
.filters{ display:flex; gap:12px; margin:8px 0 12px; }
.panel{ border:1px solid var(--gris-borde); border-radius:12px; padding:10px; margin-top:12px; background:#f9fafb; }
/* ====== Responsive ====== */
@media (max-width: 1024px) {
  .content{ grid-template-columns: 1fr 340px; }
  .ticket{ top: 78px; }
}
@media (min-width: 900px){
  .k-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}
@media (max-width: 860px) {
  .header { padding: 10px 12px; }
  .title { font-size: 20px; }

  .content { 
    grid-template-columns: 1fr; 
    padding: 10px 12px calc(var(--mesas-h) + 10px); 
  }

  /* üîπ AQUI lo nuevo: Admin a una sola columna en m√≥vil */
  .content.admin {
    grid-template-columns: 1fr;
  }

  .ticket { 
    order:2; 
    position: static; 
    max-height: unset; 
    margin-top: 10px; 
  }
  .menu { order:1; }
  .mesas-bar { height: var(--mesas-h); }
  .mesa-square { min-width: 60px; height: 44px; font-size: 14px; }
}

/* Cajero layout */
.content.cajero.one-col { grid-template-columns: 1fr; }
.cajero-title { margin: 4px 0 10px; }
.cajero-subtitle { margin: 10px 0 12px; }
.cajero-dash .dash-item {
  background: #f8fafc;
  border: 1px solid var(--gris-borde);
  border-radius: 12px;
}

/* Grid de tarjetas abajo */
.charge-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap:14px;
}

/* Tarjeta estilizada */
.charge-card.pretty{
  background:#fff;
  border:1px solid var(--gris-borde);
  border-radius:16px;
  padding:12px;
  box-shadow:0 4px 14px rgba(0,0,0,.05);
}
.mesa-title{ display:flex; gap:6px; align-items:center; font-size:16px; }
.it-name em{ font-style:normal; opacity:.7; }
.divider{ height:1px; background:#eef2f7; margin:8px 0; }
.total-row.strong{ font-size:18px; }

/* Bot√≥n de cobro */
.btn-pay{
  margin-top:10px; width:100%; padding:12px 14px;
  border:none; border-radius:12px; font-weight:800;
  background:linear-gradient(180deg,#34d399,#10b981);
  color:#083d21; cursor:pointer;
  box-shadow:0 6px 16px rgba(16,185,129,.25);
  transition:transform .06s, box-shadow .12s, opacity .12s;
}
.btn-pay:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(16,185,129,.3); }
.btn-pay:active{ transform:translateY(0); opacity:.9; }

/* Responsive */
@media (max-width: 860px){
  .content.cajero.one-col{ grid-template-columns:1fr; }
}
/* Bot√≥n ‚ÄúLLEVAR‚Äù del mesero */
.carry-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  background: #fff;
  font-weight: 700;
  cursor: pointer;
}

@media (max-width: 768px) {
  .title {
    font-size: 18px;
  }

  .right-controls {
    gap: 6px;
  }
}
/* ===== Modal de confirmaci√≥n de cobro ===== */
.confirm-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
}

.confirm-box {
  background: #fff;
  border-radius: 16px;
  padding: 20px 24px;
  width: 90%;
  max-width: 360px;
  text-align: center;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  animation: fadeInScale 0.25s ease;
}

@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}

.confirm-box h3 {
  margin-top: 0;
  font-size: 20px;
  color: #111;
}

.confirm-actions {
  margin-top: 16px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
}

.btn-cancel {
  flex: 1;
  padding: 10px 0;
  background: #f3f4f6;
  border: 1px solid #d1d5db;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
}

.btn-confirm {
  flex: 1;
  padding: 10px 0;
  background: linear-gradient(180deg, #34d399, #10b981);
  border: none;
  border-radius: 10px;
  color: #083d21;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
}

.btn-confirm:hover {
  filter: brightness(1.1);
}
